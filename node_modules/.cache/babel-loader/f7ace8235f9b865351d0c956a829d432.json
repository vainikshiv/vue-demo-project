{"remainingRequest":"/home/sjain/Desktop/vue-auth/node_modules/babel-loader/lib/index.js!/home/sjain/Desktop/vue-auth/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/sjain/Desktop/vue-auth/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sjain/Desktop/vue-auth/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sjain/Desktop/vue-auth/src/components/Login.vue","mtime":1579152805771},{"path":"/home/sjain/Desktop/vue-auth/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjain/Desktop/vue-auth/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sjain/Desktop/vue-auth/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sjain/Desktop/vue-auth/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogIiIsCiAgICAgIHBhc3N3b3JkOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBlbWFpbCA9IHRoaXMuZW1haWw7CiAgICAgIHZhciBwYXNzd29yZCA9IHRoaXMucGFzc3dvcmQ7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgIH07CiAgICAgIGF4aW9zLnBvc3QoImh0dHBzOi8vbXllcnAuc2phaW4uaW8vYXBpL21ldGhvZC9sb2dpbiIsIHsKICAgICAgICB1c3I6IGVtYWlsLAogICAgICAgIHB3ZDogcGFzc3dvcmQKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IGNvbmZpZwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICBkLnNldFRpbWUoZC5nZXRUaW1lKCkgKyAxICogMjQgKiA2MCAqIDYwICogMTAwMCk7CiAgICAgICAgICB2YXIgZXhwaXJlcyA9ICJleHBpcmVzPSIgKyBkLnRvVVRDU3RyaW5nKCk7CiAgICAgICAgICB2YXIgZG9tYWluID0gImRvbWFpbj0iICsgIm15ZXJwLnNqYWluLmlvIjsKCiAgICAgICAgICBfdGhpcy4kY29va2llcy5zZXQoJ3NpZCcsICcwNWQ4ZDQ2YWFlYmZmMWM4N2E5MGY1NzBhM2ZmMWMwZjU3MGEzZmYxYzg3YTkwZjU2YmFjZDQnLCBleHBpcmVzLCB7CiAgICAgICAgICAgIGRvbWFpbjogIm15ZXJwLnNqYWluLmlvIgogICAgICAgICAgfSk7IC8vICRjb29raWVzLnNldChrZXlOYW1lLCB2YWx1ZVssIGV4cGlyZVRpbWVzWywgcGF0aFssIGRvbWFpblssIHNlY3VyZV1dXV0pCgoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9ycykgewogICAgICAgIC8vIHRoaXMuaW5mbyA9IGVycm9ycwogICAgICAgIGNvbnNvbGUubG9nKGVycm9ycyk7CiAgICAgIH0pOyAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbG9naW4nLCB7IGVtYWlsLCBwYXNzd29yZCB9KQogICAgICAvLyAgLnRoZW4oKCkgPT4gdGhpcy4kcm91dGVyLnB1c2goJy8nKSkKICAgICAgLy8gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKQogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,KAAA,EAAA,iBAAA;AAAA;;AACA,UAAA,KAAA,GAAA,KAAA,KAAA;AACA,UAAA,QAAA,GAAA,KAAA,QAAA;AACA,UAAA,MAAA,GAAA;AACA,kBAAA,kBADA;AAEA,wBAAA;AAFA,OAAA;AAIA,MAAA,KAAA,CAAA,IAAA,CAAA,yCAAA,EAAA;AAAA,QAAA,GAAA,EAAA,KAAA;AAAA,QAAA,GAAA,EAAA;AAAA,OAAA,EAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,cAAA,CAAA,GAAA,IAAA,IAAA,EAAA;AACA,UAAA,CAAA,CAAA,OAAA,CAAA,CAAA,CAAA,OAAA,KAAA,IAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,IAAA;AACA,cAAA,OAAA,GAAA,aAAA,CAAA,CAAA,WAAA,EAAA;AACA,cAAA,MAAA,GAAA,YAAA,gBAAA;;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,KAAA,EAAA,wDAAA,EAAA,OAAA,EAAA;AAAA,YAAA,MAAA,EAAA;AAAA,WAAA,EANA,CAOA;;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA,OAZA,EAaA,KAbA,CAaA,UAAA,MAAA,EAAA;AACA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,OAhBA,EAPA,CAyBA;AACA;AACA;AACA;AA7BA;AARA,CAAA","sourcesContent":["<template>\n <div>\n   <!-- <form class=\"login\" @submit.prevent=\"login\">\n     <h1>Sign in</h1>\n     <label>Email</label>\n     <input required v-model=\"email\" type=\"text\" placeholder=\"Name\"/>\n     <label>Password</label>\n     <input required v-model=\"password\" type=\"password\" placeholder=\"Password\"/>\n     <hr/>\n     <button type=\"submit\">Login</button>\n   </form> -->\n\n  <b-container class=\"bv-example-row \">\n  <b-row>\n    <b-col cols=\"4\" offset=\"4\" >\n        <b-card header-border-variant=\"info\" border-variant=\"info\" class=\"login-form\" >\n            <template v-slot:header class=\"body\">\n              <h4 class=\"mb-0 header\">Login</h4>\n            </template>\n            \n          <b-form class=\"login\" @submit.prevent=\"login\">\n            \n            <b-row class=\"my-1\">\n              <b-col >\n                  <b-form-input class=\"margin:10px;\" v-model=\"email\" placeholder=\"Enter your username\"></b-form-input>\n              </b-col>\n            </b-row> \n            <b-row class=\"my-3\">\n              <b-col >\n                  <b-form-input v-model=\"password\" type=\"password\" placeholder=\"Enter your password\"></b-form-input>\n              </b-col>\n            </b-row>            \n            \n            <b-button block variant=\"outline-primary\" type=\"submit\">Login</b-button>\n          </b-form>\n        </b-card>\n    </b-col>\n  </b-row>\n</b-container>\n   \n </div>\n \n</template>\n\n<script>\nconst axios = require('axios');\nexport default {\n    name: 'Login',\n    data(){\n      return {\n        email : \"\",\n        password : \"\"\n      }\n    },\n   methods: {\n      login: function () {\n        let email = this.email \n        let password = this.password\n        const config = {\n           'Accept': 'application/json',\n           'Content-Type': 'application/json',          \n        }\n       axios.post(\"https://myerp.sjain.io/api/method/login\",{usr:email, pwd:password},{headers: config})\n        .then(response => {\n              if (response.status == 200){\n                console.log(response)\n                let d = new Date();                \n                d.setTime(d.getTime() + (1*24*60*60*1000));\n                let expires = \"expires=\"+ d.toUTCString();\n                let domain = \"domain=\"+\"myerp.sjain.io\";\n                this.$cookies.set('sid', '05d8d46aaebff1c87a90f570a3ff1c0f570a3ff1c87a90f56bacd4', expires,{domain: \"myerp.sjain.io\"} )\n                // $cookies.set(keyName, value[, expireTimes[, path[, domain[, secure]]]])\n                this.$router.push('/')\n              }                    \n          })\n        .catch(errors => {\n            // this.info = errors\n            console.log(errors)\n        }) \n       \n        // this.$store.dispatch('login', { email, password })\n      //  .then(() => this.$router.push('/'))\n    //    .catch(err => console.log(err))\n      }\n    }\n}\n</script>\n\n<style scoped>\n    .login-form {\n      box-shadow: 3px 3px 3px 1px;\n      margin-top:20%;\n    }\n    .header {\n       text-align: left;\n\n    }\n    body {\n      background-color: antiquewhite;\n    }\n\n</style>"],"sourceRoot":"src/components"}]}